<!DOCTYPE html>
<html>

<head>
    <title>Main Page</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/dashboard.css') }}">
</head>

<body>
    <div class="container">

        <div class="header">
            <h1>Welcome</h1>
            <button class="theme-toggle" onclick="toggleTheme()">Toggle Theme</button>
        </div>

        <div class="card">
            <h2>Create a Goal</h2>
            <label>Title:</label><br>
            <input type="text" id="text_title"><br><br>

            <label>Description:</label><br>
            <textarea id="text_description" rows="4"></textarea><br><br>

            <button id="btn_submit" class="btn btn-accent">Submit Goal</button>
        </div>

        <div class="workout_section">

        <h2>Workout</h2>

        <label>Find Workout:</label>
        <input type="text" id="find_workout"><br><br>
        <button id="btn_find_workout">Search</button><br><br>

        <h3>Search Results:</h3>
        <ul id="search_results"></ul>

        <h3>Selected Workouts:</h3>
        <ul id="selected_workouts"></ul>
        <div class="modal-container" id="modal_container">
            <div class="modal">
                <h1>Exercise Description</h1>
                <p><strong>Name: <span id="modal_name"></span></p>
                <p><strong>Target Muscles: <span id="modal_target_muscles"></span></p>
                <p><strong>Secondary Muscles: <span id="modal_secondary_muscles"></span></p>
                <p><strong>Equipment: <span id="modal_equipment"></span></p>
                <p><strong>Instructions: <span id="modal_instructions"></span></p>
                <img id="modal_gif" />
                <button id="btn_close_modal">Close</button>
            </div>
        </div>
    </div>

        <div class="card">
            <button id="btn_goals" class="btn btn-outline">View Your Goals</button>
            <button id="btn_logout" class="btn btn-accent">Logout</button>
        </div>

    </div>

    <script src="{{ url_for('static', filename='scripts/main_page.js') }}"></script>
    <script>
        function applySavedTheme() {
            const saved = localStorage.getItem("theme");
            if (saved === "dark") {
                document.body.classList.add("dark-mode");
            }
        }
        function toggleTheme() {
            document.body.classList.toggle("dark-mode");
            localStorage.setItem("theme",
                document.body.classList.contains("dark-mode") ? "dark" : "light"
            );
        }

        applySavedTheme();
    </script>

</body>

</html>